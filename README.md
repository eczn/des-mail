å°±å‘é‚®ä»¶: `è‡ªå®šä¹‰ä¸»é¢˜`, `æ¨¡æ¿`, `Markdown ä¹¦å†™`, `å®æ—¶é¢„è§ˆ`, `å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ `

# config.js 

è¦ä½¿ç”¨å¾—å†™ config.js åˆ°é¡¹ç›®æ ¹ç›®å½• 

``` js
// config.js
const path = require('path')

module.exports = {
    mailBase: 'path/to/my/mails', 
    imgPool:  'path/to/my/mails/images', 
    auth: {
        user: 'xxxx@qq.com', 
        pass: '*******'
    },
    qiniu: {
        ACCESS_KEY: '****************************************',
        SECRET_KEY: '****************************************',
        bucket: 'my_bucket',
        bucket_domain: 'http://aabbcc.bkt.clouddn.com'
    }
}
```

# ç›®å‰çš„ä½¿ç”¨ 

é¦–å…ˆ npm install ä¸€ä¸‹ 

``` bash 
$ npm install 
```

## å‘é€æµ‹è¯•æ–‡ç«  

ç¼–å†™ `test.js` åˆ°é¡¹ç›®æ ¹ç›®å½•æµ‹è¯•æµ‹è¯• 

``` js
// test.js
const mix = require('./tpl')
    , sender = require('./sender')

// é€‰æ‹©ä½ çš„ markdown æ–‡ä»¶ 
// æ¸²æŸ“æˆ january ä¸»é¢˜ 
let after = mix('./tpl/test.md', 'january'); 

// å‘é€ 
sender({
    // Alice 
    from: '"abc ğŸ‘»" <abc@def.com>',
    // Bob 
    to: 'myfriend@test.com',
    // ä¸»é¢˜ 
    subject: 'æˆ‘å®³æ€•é˜…è¯»çš„äºº',
    // æ–‡æœ¬ï¼Œå¯çœç•¥
    text: after,
    // HTML 
    html: after
}).then(ok => {
    console.log('å‘é€æˆåŠŸ'); 
}); 
```

## è‡ªå®šä¹‰æ¨¡æ¿ä¸»é¢˜ 

éœ€è¦è‡ªå®šä¹‰è‡ªå·±çš„ä¸»é¢˜çš„æ—¶å€™ï¼Œéœ€è¦æ‰“å¼€ dev server

``` bash 
$ gulp serve 
```

æ‰“å¼€åï¼Œå°±å¯ä»¥çœ‹ä¸»é¢˜æ•ˆæœäº† 

å¦‚æœè‡ªå·±æƒ³è¦å†™ä¸»é¢˜ï¼Œå¾—å» tpl ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ›´å¤šè¯¦æƒ…è¯·å¯¹ç…§ january è¿›è¡Œç¼–å†™ã€‚ 

ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ des-mial cli å»å¿«é€Ÿå»ºç«‹ä¸€ä¸ªæ¨¡æ¿ 

``` js
# å»é¡¹ç›®æ ¹ç›®å½• 
$ npm link 
$ dmial new my-theme 
```

åˆ›å»ºå¥½ä¹‹åä¼šåœ¨ tpl ä¸‹åˆ›å»ºå¥½å¯¹åº”çš„ç©ºä¸»é¢˜

æ­¤å¤–ï¼Œç”±äºå¤§å¤šæ•°çš„é‚®ä»¶å®¢æˆ·ç«¯ä¸æ”¯æŒ link style è¿™äº› css å¼•å…¥æ ‡ç­¾ï¼Œåªæ”¯æŒå†…è”å†™æ³•ï¼›

ä¸ºäº†è®© CSS ç”Ÿæ•ˆï¼Œæˆ‘å†™äº†ä¸ª CSS è§£é‡Šå™¨ï¼Œå°† CSS ä»¥å†…è”æ–¹å¼åµŒå…¥åˆ° HTML é‡Œï¼Œå› æ­¤å¾ˆå¤šé€‰æ‹©å™¨çš„æ”¯æŒåº¦ä¸å¤ªå¥½ï¼Œè€Œä¸”æ ·å¼ä¹‹é—´çš„è¦†ç›–é—®é¢˜æ¯”è¾ƒä¸¥é‡ï¼Œå› æ­¤æ ·å¼å¤æ‚åº¦ä¸Šå»äº†å¯èƒ½ä¼šå¼•èµ·å¾ˆå¤šé—®é¢˜ï¼Œå»ºè®®ç¼–å†™ç®€å•çš„æ ·å¼å¸ƒå±€ã€‚ 

æ­¤å¤–ï¼Œdes-mail ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“æ˜¯æˆ‘è‡ªå†™çš„ `tplser` ã€‚ã€‚ã€‚ã€‚ å±å‘³è¾ƒå¤§ã€‚ã€‚ã€‚ å—¯ã€‚ã€‚ã€‚ 

## æ€ä¹ˆå¼„ä¸€é”®å›¾ç‰‡ä¸Šä¼ çš„ 

config.js é‡Œå¾—å†™å¥½ mailBase å­—æ®µï¼Œé‡Œé¢çš„æ–‡ä»¶å¤¹å‡ä¼šæ˜ å°„åˆ° markdown ä¹¦å†™çš„å›¾ç‰‡åœ°å€é‡Œï¼š 

æ¯”å¦‚ æˆ‘ markdown å†™: 

``` markdown 
![test](/images/test.jpg)
```

è¿™å¼ å›¾ç‰‡å°±æŒ‡å‘ mailBase é‡Œ images æ–‡ä»¶å¤¹ä¸‹çš„ test.jpg å›¾ç‰‡ã€‚ 

( å…·ä½“å®ç°åœ¨ build/server é‡Œ, (connect çš„ multiserver) )

ç„¶ååœ¨å‘é€çš„æ—¶å€™ï¼Œä¹Ÿæ— é¡»åšä»€ä¹ˆï¼Œ sender ä¼šè‡ªåŠ¨çš„å§ img æ ‡ç­¾çš„å›¾ç‰‡å–å‡ºæ¥ä¸Šä¼ ï¼Œå¹¶æ›¿æ¢æˆåœ¨ä¸ƒç‰›çš„ url ã€‚ 

# å»ºè®¾ä¸­

é¢ã€‚ã€‚ã€‚

# License 

MIT 

